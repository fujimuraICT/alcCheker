fvconv As CanvasComponent:
    Fill: =RGBA(0, 0, 0, 0)
    FullToHalf: |-
        =Concat(ForAll(ForAll(Split(fvconv.InputText,""), {Result: ThisRecord.Value}),If(!IsBlank(LookUp(fvconv.Mapping,fullWidth=Result)),Replace(Result,1,1,LookUp(fvconv.Mapping,fullWidth=Result).halfWidth),Result)),Value)
    Height: =10
    InputText: ="テキスト"
    Mapping: |-
        =Table({fullWidth:"！",halfWidth:"!"},
        {fullWidth:"＂",halfWidth:""""},
        {fullWidth:"＃",halfWidth:"#"},
        {fullWidth:"＄",halfWidth:"$"},
        {fullWidth:"％",halfWidth:"%"},
        {fullWidth:"＆",halfWidth:"&"},
        {fullWidth:"＇",halfWidth:"'"},
        {fullWidth:"（",halfWidth:"("},
        {fullWidth:"）",halfWidth:")"},
        {fullWidth:"＊",halfWidth:"*"},
        {fullWidth:"＋",halfWidth:"+"},
        {fullWidth:"，",halfWidth:","},
        {fullWidth:"－",halfWidth:"-"},
        {fullWidth:"．",halfWidth:"."},
        {fullWidth:"／",halfWidth:"/"},
        {fullWidth:"０",halfWidth:"0"},
        {fullWidth:"１",halfWidth:"1"},
        {fullWidth:"２",halfWidth:"2"},
        {fullWidth:"３",halfWidth:"3"},
        {fullWidth:"４",halfWidth:"4"},
        {fullWidth:"５",halfWidth:"5"},
        {fullWidth:"６",halfWidth:"6"},
        {fullWidth:"７",halfWidth:"7"},
        {fullWidth:"８",halfWidth:"8"},
        {fullWidth:"９",halfWidth:"9"},
        {fullWidth:"：",halfWidth:":"},
        {fullWidth:"；",halfWidth:";"},
        {fullWidth:"＜",halfWidth:"<"},
        {fullWidth:"＝",halfWidth:"="},
        {fullWidth:"＞",halfWidth:">"},
        {fullWidth:"？",halfWidth:"?"},
        {fullWidth:"＠",halfWidth:"@"},
        {fullWidth:"Ａ",halfWidth:"A"},
        {fullWidth:"Ｂ",halfWidth:"B"},
        {fullWidth:"Ｃ",halfWidth:"C"},
        {fullWidth:"Ｄ",halfWidth:"D"},
        {fullWidth:"Ｅ",halfWidth:"E"},
        {fullWidth:"Ｆ",halfWidth:"F"},
        {fullWidth:"Ｇ",halfWidth:"G"},
        {fullWidth:"Ｈ",halfWidth:"H"},
        {fullWidth:"Ｉ",halfWidth:"I"},
        {fullWidth:"Ｊ",halfWidth:"J"},
        {fullWidth:"Ｋ",halfWidth:"K"},
        {fullWidth:"Ｌ",halfWidth:"L"},
        {fullWidth:"Ｍ",halfWidth:"M"},
        {fullWidth:"Ｎ",halfWidth:"N"},
        {fullWidth:"Ｏ",halfWidth:"O"},
        {fullWidth:"Ｐ",halfWidth:"P"},
        {fullWidth:"Ｑ",halfWidth:"Q"},
        {fullWidth:"Ｒ",halfWidth:"R"},
        {fullWidth:"Ｓ",halfWidth:"S"},
        {fullWidth:"Ｔ",halfWidth:"T"},
        {fullWidth:"Ｕ",halfWidth:"U"},
        {fullWidth:"Ｖ",halfWidth:"V"},
        {fullWidth:"Ｗ",halfWidth:"W"},
        {fullWidth:"Ｘ",halfWidth:"X"},
        {fullWidth:"Ｙ",halfWidth:"Y"},
        {fullWidth:"Ｚ",halfWidth:"Z"},
        {fullWidth:"［",halfWidth:"["},
        {fullWidth:"＼",halfWidth:"\"},
        {fullWidth:"］",halfWidth:"]"},
        {fullWidth:"＾",halfWidth:"^"},
        {fullWidth:"＿",halfWidth:"_"},
        {fullWidth:"｀",halfWidth:"`"},
        {fullWidth:"ａ",halfWidth:"a"},
        {fullWidth:"ｂ",halfWidth:"b"},
        {fullWidth:"ｃ",halfWidth:"c"},
        {fullWidth:"ｄ",halfWidth:"d"},
        {fullWidth:"ｅ",halfWidth:"e"},
        {fullWidth:"ｆ",halfWidth:"f"},
        {fullWidth:"ｇ",halfWidth:"g"},
        {fullWidth:"ｈ",halfWidth:"h"},
        {fullWidth:"ｉ",halfWidth:"i"},
        {fullWidth:"ｊ",halfWidth:"j"},
        {fullWidth:"ｋ",halfWidth:"k"},
        {fullWidth:"ｌ",halfWidth:"l"},
        {fullWidth:"ｍ",halfWidth:"m"},
        {fullWidth:"ｎ",halfWidth:"n"},
        {fullWidth:"ｏ",halfWidth:"o"},
        {fullWidth:"ｐ",halfWidth:"p"},
        {fullWidth:"ｑ",halfWidth:"q"},
        {fullWidth:"ｒ",halfWidth:"r"},
        {fullWidth:"ｓ",halfWidth:"s"},
        {fullWidth:"ｔ",halfWidth:"t"},
        {fullWidth:"ｕ",halfWidth:"u"},
        {fullWidth:"ｖ",halfWidth:"v"},
        {fullWidth:"ｗ",halfWidth:"w"},
        {fullWidth:"ｘ",halfWidth:"x"},
        {fullWidth:"ｙ",halfWidth:"y"},
        {fullWidth:"ｚ",halfWidth:"z"},
        {fullWidth:"｛",halfWidth:"{"},
        {fullWidth:"｜",halfWidth:"|"},
        {fullWidth:"｝",halfWidth:"}"},
        {fullWidth:"～",halfWidth:"~"},
        {fullWidth:"　",halfWidth:" "})
    Width: =10
    X: =0
    Y: =0
    ZIndex: =1

